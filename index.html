<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSR Generator</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
        input[type="text"] { width: 100%; padding: 10px; margin: 8px 0; box-sizing: border-box; }
        button { background-color: #4CAF50; color: white; padding: 10px 15px; border: none; cursor: pointer; border-radius: 4px; }
        .warning { color: red; font-weight: bold; margin-top: 15px; }
    </style>
    
    <script src="forge.min.js"></script>
</head>
<body>
    <h1>ðŸ”’ CSR Generator</h1>
    <p>Using a robust JavaScript library for secure, local key generation.</p>

    <hr>

    <label for="fqdn">Fully Qualified Domain Name (CN):</label>
    <input type="text" id="fqdn" placeholder="e.g., server.bc.edu" required>

    <label for="sans">Subject Alternative Names (SANs): <small>(comma-separated, optional)</small></label>
    <input type="text" id="sans" placeholder="e.g., www.server.bc.edu,api.server.bc.edu">
    
    <hr>

    <button onclick="generateCSR()">Generate Key and CSR Files</button>

    <p id="status" class="warning"></p>

    <hr>
    
    <div id="key-output" style="display: none;">
        <h2>ðŸ“„ Generated Private Key (Copy/Paste)</h2>
        <p>The **CSR file** has been downloaded and can be submitted to ITS Operations in a TDX ticket. Please save the text below in a .key file located ON THE TARGET SERVER. DO NOT SAVE LOCALLY TO YOUR COMPUTER</p>
        <textarea id="key-text" rows="15" style="width: 100%; font-family: monospace;"></textarea>
    </div>

    <script src="csr_generator.js"></script>
</body>
</html>